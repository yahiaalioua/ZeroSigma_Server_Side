2023-02-23 11:02:10.170 +01:00  INF  User profile is available. Using 'C:\Users\yahia alioua\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-23 11:02:10.385 +01:00  INF  Application started. Press Ctrl+C to shut down.
2023-02-23 11:02:10.385 +01:00  INF  Hosting environment: Development
2023-02-23 11:02:10.385 +01:00  INF  Content root path: C:\GA\C# OOP\ZeroSigmaAuth\AngularAuthApi\
2023-02-23 11:02:10.418 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger - -
2023-02-23 11:02:10.548 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger - - - 301 - - 136.6386ms
2023-02-23 11:02:10.554 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/index.html - -
2023-02-23 11:02:10.912 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/index.html - - - 200 - text/html;charset=utf-8 358.7170ms
2023-02-23 11:02:11.001 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/swagger-ui.css - -
2023-02-23 11:02:11.001 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/swagger-ui-bundle.js - -
2023-02-23 11:02:11.010 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/swagger-ui-standalone-preset.js - -
2023-02-23 11:02:11.015 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/_framework/aspnetcore-browser-refresh.js - -
2023-02-23 11:02:11.016 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/_vs/browserLink - -
2023-02-23 11:02:11.027 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/_framework/aspnetcore-browser-refresh.js - - - 200 11998 application/javascript;+charset=utf-8 5.8922ms
2023-02-23 11:02:11.031 +01:00  INF  Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-02-23 11:02:11.031 +01:00  INF  Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-02-23 11:02:11.031 +01:00  INF  Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-02-23 11:02:11.039 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/swagger-ui.css - - - 200 143632 text/css 37.9571ms
2023-02-23 11:02:11.053 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 43.4842ms
2023-02-23 11:02:11.089 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 72.2157ms
2023-02-23 11:02:11.105 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 104.5145ms
2023-02-23 11:02:11.361 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/v1/swagger.json - -
2023-02-23 11:02:11.494 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 131.9692ms
2023-02-23 11:02:39.335 +01:00  INF  Request starting HTTP/2 POST https://localhost:44344/api/user/Authenticate application/json 61
2023-02-23 11:02:39.348 +01:00  INF  CORS policy execution successful.
2023-02-23 11:02:39.442 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 11:02:39.528 +01:00  INF  Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(AngularAuthApi.DTOS.LoginDto) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-23 11:02:44.758 +01:00  INF  Executed DbCommand (24ms) [Parameters=[@__user_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__user_Email_0
LIMIT 1
2023-02-23 11:02:46.213 +01:00  INF  Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-23 11:02:46.409 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-23 11:02:46.414 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-23 11:02:46.669 +01:00  INF  Executed DbCommand (23ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = SByte), @p2='?' (DbType = SByte), @p3='?' (DbType = DateTime), @p4='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Auth` SET `ExpiredDate` = @p0, `IsActive` = @p1, `IsExpired` = @p2, `IssuedDate` = @p3, `RefreshToken` = @p4
WHERE `Id` = @p5;
2023-02-23 11:02:46.702 +01:00  INF  Executing OkObjectResult, writing value of type 'AngularAuthApi.Entities.Responses.AuthUserResponse'.
2023-02-23 11:02:46.759 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi) in 7216.6999ms
2023-02-23 11:02:46.760 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 11:02:46.773 +01:00  INF  Request finished HTTP/2 POST https://localhost:44344/api/user/Authenticate application/json 61 - 200 - application/json;+charset=utf-8 7437.8836ms
2023-02-23 11:04:25.307 +01:00  INF  User profile is available. Using 'C:\Users\yahia alioua\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-23 11:04:25.423 +01:00  INF  Application started. Press Ctrl+C to shut down.
2023-02-23 11:04:25.423 +01:00  INF  Hosting environment: Development
2023-02-23 11:04:25.423 +01:00  INF  Content root path: C:\GA\C# OOP\ZeroSigmaAuth\AngularAuthApi\
2023-02-23 11:04:25.458 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/index.html - -
2023-02-23 11:04:25.846 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/index.html - - - 200 - text/html;charset=utf-8 391.8295ms
2023-02-23 11:04:25.921 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/_framework/aspnetcore-browser-refresh.js - -
2023-02-23 11:04:25.921 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/_vs/browserLink - -
2023-02-23 11:04:25.921 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/swagger-ui.css - -
2023-02-23 11:04:25.930 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/_framework/aspnetcore-browser-refresh.js - - - 200 11998 application/javascript;+charset=utf-8 5.1125ms
2023-02-23 11:04:25.946 +01:00  INF  Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-02-23 11:04:25.949 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/swagger-ui.css - - - 200 143632 text/css 28.3321ms
2023-02-23 11:04:25.973 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 52.2729ms
2023-02-23 11:04:26.209 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/v1/swagger.json - -
2023-02-23 11:04:26.245 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/favicon-32x32.png - -
2023-02-23 11:04:26.246 +01:00  INF  Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-02-23 11:04:26.247 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/favicon-32x32.png - - - 200 628 image/png 2.0424ms
2023-02-23 11:04:26.374 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 164.9782ms
2023-02-23 11:04:39.475 +01:00  INF  Request starting HTTP/2 POST https://localhost:44344/api/user/Authenticate application/json 61
2023-02-23 11:04:39.487 +01:00  INF  CORS policy execution successful.
2023-02-23 11:04:39.523 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 11:04:39.571 +01:00  INF  Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(AngularAuthApi.DTOS.LoginDto) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-23 11:04:43.171 +01:00  INF  Executed DbCommand (17ms) [Parameters=[@__user_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__user_Email_0
LIMIT 1
2023-02-23 11:04:44.476 +01:00  INF  Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-23 11:04:44.660 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-23 11:04:44.910 +01:00  INF  Executed DbCommand (22ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = SByte), @p2='?' (DbType = SByte), @p3='?' (DbType = DateTime), @p4='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Auth` SET `ExpiredDate` = @p0, `IsActive` = @p1, `IsExpired` = @p2, `IssuedDate` = @p3, `RefreshToken` = @p4
WHERE `Id` = @p5;
2023-02-23 11:04:44.929 +01:00  INF  Executing OkObjectResult, writing value of type 'AngularAuthApi.Entities.Responses.AuthUserResponse'.
2023-02-23 11:04:44.957 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi) in 5377.725ms
2023-02-23 11:04:44.957 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 11:04:44.967 +01:00  INF  Request finished HTTP/2 POST https://localhost:44344/api/user/Authenticate application/json 61 - 200 - application/json;+charset=utf-8 5492.0715ms
2023-02-23 11:42:48.197 +01:00  INF  User profile is available. Using 'C:\Users\yahia alioua\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-23 11:42:48.403 +01:00  INF  Application started. Press Ctrl+C to shut down.
2023-02-23 11:42:48.403 +01:00  INF  Hosting environment: Development
2023-02-23 11:42:48.403 +01:00  INF  Content root path: C:\GA\C# OOP\ZeroSigmaAuth\AngularAuthApi\
2023-02-23 11:42:48.434 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger - -
2023-02-23 11:42:48.537 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger - - - 301 - - 107.5695ms
2023-02-23 11:42:48.541 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/index.html - -
2023-02-23 11:42:48.867 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/index.html - - - 200 - text/html;charset=utf-8 326.1276ms
2023-02-23 11:42:48.944 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/swagger-ui.css - -
2023-02-23 11:42:48.947 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/swagger-ui-standalone-preset.js - -
2023-02-23 11:42:48.951 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/_framework/aspnetcore-browser-refresh.js - -
2023-02-23 11:42:48.951 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/_vs/browserLink - -
2023-02-23 11:42:48.955 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/swagger-ui-bundle.js - -
2023-02-23 11:42:48.960 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/_framework/aspnetcore-browser-refresh.js - - - 200 11998 application/javascript;+charset=utf-8 4.1080ms
2023-02-23 11:42:48.978 +01:00  INF  Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-02-23 11:42:48.978 +01:00  INF  Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-02-23 11:42:48.978 +01:00  INF  Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-02-23 11:42:48.988 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/swagger-ui.css - - - 200 143632 text/css 44.2582ms
2023-02-23 11:42:49.006 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 59.7365ms
2023-02-23 11:42:49.036 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 84.2688ms
2023-02-23 11:42:49.056 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 101.6727ms
2023-02-23 11:42:49.311 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/v1/swagger.json - -
2023-02-23 11:42:49.420 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 108.8716ms
2023-02-23 11:43:41.456 +01:00  INF  Request starting HTTP/2 POST https://localhost:44344/api/user/Register application/json 82
2023-02-23 11:43:41.468 +01:00  INF  CORS policy execution successful.
2023-02-23 11:43:41.531 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.RegisterUser (AngularAuthApi)'
2023-02-23 11:43:41.636 +01:00  INF  Route matched with {action = "RegisterUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(AngularAuthApi.Entities.Requests.SignUpRequest) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-23 11:43:46.441 +01:00  INF  Executed DbCommand (14ms) [Parameters=[@__userEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Users` AS `u`
    WHERE `u`.`Email` = @__userEmail_0)
2023-02-23 11:43:48.047 +01:00  INF  Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 50), @p2='?' (Size = 128), @p3='?' (Size = 128) (DbType = Binary), @p4='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Users` (`Email`, `Name`, `Password`, `Salt`, `Token`)
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT `Id`
FROM `Users`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2023-02-23 11:43:48.128 +01:00  INF  Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?' (DbType = SByte), @p8='?' (DbType = SByte), @p9='?' (DbType = DateTime), @p10='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Auth` (`Id`, `ExpiredDate`, `IsActive`, `IsExpired`, `IssuedDate`, `RefreshToken`)
VALUES (@p5, @p6, @p7, @p8, @p9, @p10);
2023-02-23 11:43:48.194 +01:00  INF  Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-23 11:43:48.251 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.RegisterUser (AngularAuthApi) in 6598.0166ms
2023-02-23 11:43:48.252 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.RegisterUser (AngularAuthApi)'
2023-02-23 11:43:48.270 +01:00  INF  Request finished HTTP/2 POST https://localhost:44344/api/user/Register application/json 82 - 200 - application/json;+charset=utf-8 6813.6060ms
2023-02-23 11:44:00.558 +01:00  INF  Request starting HTTP/2 POST https://localhost:44344/api/user/Authenticate application/json 63
2023-02-23 11:44:00.561 +01:00  INF  CORS policy execution successful.
2023-02-23 11:44:00.561 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 11:44:00.569 +01:00  INF  Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(AngularAuthApi.DTOS.LoginDto) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-23 11:44:00.702 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__user_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__user_Email_0
LIMIT 1
2023-02-23 11:44:01.811 +01:00  INF  Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-23 11:44:01.936 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-23 11:44:01.985 +01:00  INF  Executed DbCommand (11ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = SByte), @p2='?' (DbType = SByte), @p3='?' (DbType = DateTime), @p4='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Auth` SET `ExpiredDate` = @p0, `IsActive` = @p1, `IsExpired` = @p2, `IssuedDate` = @p3, `RefreshToken` = @p4
WHERE `Id` = @p5;
2023-02-23 11:44:02.000 +01:00  INF  Executing OkObjectResult, writing value of type 'AngularAuthApi.Entities.Responses.AuthUserResponse'.
2023-02-23 11:44:02.005 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi) in 1435.683ms
2023-02-23 11:44:02.005 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 11:44:02.007 +01:00  INF  Request finished HTTP/2 POST https://localhost:44344/api/user/Authenticate application/json 63 - 200 - application/json;+charset=utf-8 1448.5381ms
2023-02-23 12:33:59.300 +01:00  INF  User profile is available. Using 'C:\Users\yahia alioua\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-23 12:33:59.499 +01:00  INF  Now listening on: https://localhost:7063
2023-02-23 12:33:59.500 +01:00  INF  Now listening on: http://localhost:5174
2023-02-23 12:33:59.503 +01:00  INF  Application started. Press Ctrl+C to shut down.
2023-02-23 12:33:59.503 +01:00  INF  Hosting environment: Development
2023-02-23 12:33:59.503 +01:00  INF  Content root path: C:\GA\C# OOP\ZeroSigmaAuth\AngularAuthApi\
2023-02-23 12:33:59.950 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/swagger/index.html - -
2023-02-23 12:34:00.588 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/swagger/index.html - - - 200 - text/html;charset=utf-8 645.1981ms
2023-02-23 12:34:00.662 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/_vs/browserLink - -
2023-02-23 12:34:00.662 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/_framework/aspnetcore-browser-refresh.js - -
2023-02-23 12:34:00.666 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/_framework/aspnetcore-browser-refresh.js - - - 200 11998 application/javascript;+charset=utf-8 3.7538ms
2023-02-23 12:34:00.685 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.1494ms
2023-02-23 12:34:01.004 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/swagger/v1/swagger.json - -
2023-02-23 12:34:01.163 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 158.6365ms
2023-02-23 12:34:34.039 +01:00  INF  Request starting HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 61
2023-02-23 12:34:34.049 +01:00  INF  CORS policy execution successful.
2023-02-23 12:34:34.121 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 12:34:34.209 +01:00  INF  Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(AngularAuthApi.DTOS.LoginDto) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-23 12:34:37.995 +01:00  INF  Executed DbCommand (18ms) [Parameters=[@__user_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__user_Email_0
LIMIT 1
2023-02-23 12:34:39.218 +01:00  INF  Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-23 12:34:39.379 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-23 12:34:39.624 +01:00  INF  Executed DbCommand (24ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = SByte), @p2='?' (DbType = SByte), @p3='?' (DbType = DateTime), @p4='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Auth` SET `ExpiredDate` = @p0, `IsActive` = @p1, `IsExpired` = @p2, `IssuedDate` = @p3, `RefreshToken` = @p4
WHERE `Id` = @p5;
2023-02-23 12:34:39.663 +01:00  INF  Executing OkObjectResult, writing value of type 'AngularAuthApi.Entities.Responses.AuthUserResponse'.
2023-02-23 12:34:39.698 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi) in 5475.6175ms
2023-02-23 12:34:39.698 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 12:34:39.708 +01:00  INF  Request finished HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 61 - 200 - application/json;+charset=utf-8 5669.6725ms
2023-02-23 12:36:20.417 +01:00  INF  User profile is available. Using 'C:\Users\yahia alioua\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-23 12:36:20.575 +01:00  INF  Now listening on: https://localhost:7063
2023-02-23 12:36:20.575 +01:00  INF  Now listening on: http://localhost:5174
2023-02-23 12:36:20.578 +01:00  INF  Application started. Press Ctrl+C to shut down.
2023-02-23 12:36:20.578 +01:00  INF  Hosting environment: Development
2023-02-23 12:36:20.578 +01:00  INF  Content root path: C:\GA\C# OOP\ZeroSigmaAuth\AngularAuthApi\
2023-02-23 12:36:21.011 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/swagger/index.html - -
2023-02-23 12:36:21.359 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/swagger/index.html - - - 200 - text/html;charset=utf-8 356.5451ms
2023-02-23 12:36:21.493 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/_framework/aspnetcore-browser-refresh.js - -
2023-02-23 12:36:21.497 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/_framework/aspnetcore-browser-refresh.js - - - 200 11998 application/javascript;+charset=utf-8 3.2533ms
2023-02-23 12:36:21.515 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/_vs/browserLink - -
2023-02-23 12:36:21.534 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 19.2285ms
2023-02-23 12:36:21.776 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/swagger/v1/swagger.json - -
2023-02-23 12:36:21.926 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 150.0954ms
2023-02-23 12:36:38.793 +01:00  INF  Request starting HTTP/2 POST https://localhost:7063/api/user/refresh application/json 229
2023-02-23 12:36:38.807 +01:00  INF  CORS policy execution successful.
2023-02-23 12:36:38.871 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-23 12:36:38.960 +01:00  INF  Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(AngularAuthApi.Entities.Requests.RefreshAuthRequest) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-23 12:36:39.691 +01:00  INF  Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-23 12:36:39.734 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi) in 760.5941ms
2023-02-23 12:36:39.736 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-23 12:36:39.739 +01:00  INF  Request finished HTTP/2 POST https://localhost:7063/api/user/refresh application/json 229 - 400 - application/json;+charset=utf-8 946.6076ms
2023-02-23 12:37:28.190 +01:00  INF  Request starting HTTP/2 POST https://localhost:7063/api/user/refresh application/json 229
2023-02-23 12:37:28.192 +01:00  INF  CORS policy execution successful.
2023-02-23 12:37:28.192 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-23 12:37:28.192 +01:00  INF  Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(AngularAuthApi.Entities.Requests.RefreshAuthRequest) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-23 12:37:28.206 +01:00  INF  Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-23 12:37:28.206 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi) in 13.83ms
2023-02-23 12:37:28.206 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-23 12:37:28.206 +01:00  INF  Request finished HTTP/2 POST https://localhost:7063/api/user/refresh application/json 229 - 400 - application/json;+charset=utf-8 16.4371ms
2023-02-23 12:38:22.639 +01:00  INF  Request starting HTTP/2 POST https://localhost:7063/api/user/refresh application/json 239
2023-02-23 12:38:22.653 +01:00  INF  CORS policy execution successful.
2023-02-23 12:38:22.657 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-23 12:38:22.658 +01:00  INF  Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(AngularAuthApi.Entities.Requests.RefreshAuthRequest) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-23 12:38:22.680 +01:00  INF  Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-23 12:38:22.681 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi) in 22.3515ms
2023-02-23 12:38:22.681 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-23 12:38:22.681 +01:00  INF  Request finished HTTP/2 POST https://localhost:7063/api/user/refresh application/json 239 - 400 - application/json;+charset=utf-8 41.7780ms
2023-02-23 12:38:28.446 +01:00  INF  Request starting HTTP/2 POST https://localhost:7063/api/user/refresh application/json 239
2023-02-23 12:38:28.446 +01:00  INF  CORS policy execution successful.
2023-02-23 12:38:28.447 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-23 12:38:28.447 +01:00  INF  Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(AngularAuthApi.Entities.Requests.RefreshAuthRequest) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-23 12:38:28.448 +01:00  INF  Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-23 12:38:28.448 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi) in 1.2506ms
2023-02-23 12:38:28.448 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-23 12:38:28.448 +01:00  INF  Request finished HTTP/2 POST https://localhost:7063/api/user/refresh application/json 239 - 400 - application/json;+charset=utf-8 2.3061ms
2023-02-23 12:38:32.843 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/swagger/index.html - -
2023-02-23 12:38:32.854 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/swagger/index.html - - - 200 - text/html;charset=utf-8 10.6210ms
2023-02-23 12:38:32.925 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/_framework/aspnetcore-browser-refresh.js - -
2023-02-23 12:38:32.925 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/_vs/browserLink - -
2023-02-23 12:38:32.927 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/_framework/aspnetcore-browser-refresh.js - - - 200 11998 application/javascript;+charset=utf-8 1.2556ms
2023-02-23 12:38:32.939 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 13.3579ms
2023-02-23 12:38:33.071 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/swagger/v1/swagger.json - -
2023-02-23 12:38:33.074 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 2.6810ms
2023-02-23 14:53:44.528 +01:00  INF  User profile is available. Using 'C:\Users\yahia alioua\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-23 14:53:44.661 +01:00  INF  Now listening on: https://localhost:7063
2023-02-23 14:53:44.662 +01:00  INF  Now listening on: http://localhost:5174
2023-02-23 14:53:44.665 +01:00  INF  Application started. Press Ctrl+C to shut down.
2023-02-23 14:53:44.665 +01:00  INF  Hosting environment: Development
2023-02-23 14:53:44.665 +01:00  INF  Content root path: C:\GA\C# OOP\ZeroSigmaAuth\AngularAuthApi\
2023-02-23 14:53:45.169 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/swagger/index.html - -
2023-02-23 14:53:45.696 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/swagger/index.html - - - 200 - text/html;charset=utf-8 531.2263ms
2023-02-23 14:53:45.772 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/_framework/aspnetcore-browser-refresh.js - -
2023-02-23 14:53:45.773 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/_vs/browserLink - -
2023-02-23 14:53:45.775 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/_framework/aspnetcore-browser-refresh.js - - - 200 11998 application/javascript;+charset=utf-8 3.7142ms
2023-02-23 14:53:45.792 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 19.3545ms
2023-02-23 14:53:45.935 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/swagger/v1/swagger.json - -
2023-02-23 14:53:46.081 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 146.2026ms
2023-02-23 14:57:10.575 +01:00  INF  User profile is available. Using 'C:\Users\yahia alioua\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-23 14:57:10.742 +01:00  INF  Now listening on: https://localhost:7063
2023-02-23 14:57:10.742 +01:00  INF  Now listening on: http://localhost:5174
2023-02-23 14:57:10.747 +01:00  INF  Application started. Press Ctrl+C to shut down.
2023-02-23 14:57:10.747 +01:00  INF  Hosting environment: Development
2023-02-23 14:57:10.747 +01:00  INF  Content root path: C:\GA\C# OOP\ZeroSigmaAuth\AngularAuthApi\
2023-02-23 14:57:11.090 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/swagger/index.html - -
2023-02-23 14:57:11.393 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/swagger/index.html - - - 200 - text/html;charset=utf-8 306.1358ms
2023-02-23 14:57:11.540 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/_framework/aspnetcore-browser-refresh.js - -
2023-02-23 14:57:11.545 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/_framework/aspnetcore-browser-refresh.js - - - 200 11998 application/javascript;+charset=utf-8 4.5264ms
2023-02-23 14:57:11.553 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/_vs/browserLink - -
2023-02-23 14:57:11.575 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 21.6603ms
2023-02-23 14:57:11.768 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/swagger/v1/swagger.json - -
2023-02-23 14:57:11.861 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 92.8756ms
2023-02-23 14:58:21.893 +01:00  INF  Request starting HTTP/2 POST https://localhost:7063/api/user/Register application/json 82
2023-02-23 14:58:21.903 +01:00  INF  CORS policy execution successful.
2023-02-23 14:58:21.963 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.RegisterUser (AngularAuthApi)'
2023-02-23 14:58:22.053 +01:00  INF  Route matched with {action = "RegisterUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(AngularAuthApi.Entities.Requests.SignUpRequest) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-23 14:58:25.652 +01:00  INF  Executed DbCommand (16ms) [Parameters=[@__userEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Users` AS `u`
    WHERE `u`.`Email` = @__userEmail_0)
2023-02-23 14:58:27.284 +01:00  INF  Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 50), @p2='?' (Size = 128), @p3='?' (Size = 128) (DbType = Binary), @p4='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Users` (`Email`, `Name`, `Password`, `Salt`, `Token`)
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT `Id`
FROM `Users`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2023-02-23 14:58:27.343 +01:00  INF  Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?' (DbType = SByte), @p8='?' (DbType = SByte), @p9='?' (DbType = DateTime), @p10='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Auth` (`Id`, `ExpiredDate`, `IsActive`, `IsExpired`, `IssuedDate`, `RefreshToken`)
VALUES (@p5, @p6, @p7, @p8, @p9, @p10);
2023-02-23 14:58:27.404 +01:00  INF  Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-23 14:58:27.449 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.RegisterUser (AngularAuthApi) in 5386.2125ms
2023-02-23 14:58:27.450 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.RegisterUser (AngularAuthApi)'
2023-02-23 14:58:27.462 +01:00  INF  Request finished HTTP/2 POST https://localhost:7063/api/user/Register application/json 82 - 200 - application/json;+charset=utf-8 5569.2408ms
2023-02-23 14:59:06.307 +01:00  INF  Request starting HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 63
2023-02-23 14:59:06.309 +01:00  INF  CORS policy execution successful.
2023-02-23 14:59:06.309 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 14:59:06.313 +01:00  INF  Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(AngularAuthApi.DTOS.LoginDto) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-23 14:59:06.382 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__user_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__user_Email_0
LIMIT 1
2023-02-23 14:59:06.908 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-23 14:59:06.973 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-23 14:59:07.007 +01:00  INF  Executed DbCommand (8ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = SByte), @p2='?' (DbType = SByte), @p3='?' (DbType = DateTime), @p4='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Auth` SET `ExpiredDate` = @p0, `IsActive` = @p1, `IsExpired` = @p2, `IssuedDate` = @p3, `RefreshToken` = @p4
WHERE `Id` = @p5;
2023-02-23 14:59:07.016 +01:00  INF  Executing OkObjectResult, writing value of type 'AngularAuthApi.Entities.Responses.AuthUserResponse'.
2023-02-23 14:59:07.021 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi) in 707.8136ms
2023-02-23 14:59:07.021 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 14:59:07.021 +01:00  INF  Request finished HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 63 - 200 - application/json;+charset=utf-8 714.2859ms
2023-02-23 15:00:55.610 +01:00  INF  User profile is available. Using 'C:\Users\yahia alioua\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-23 15:00:55.808 +01:00  INF  Now listening on: https://localhost:7063
2023-02-23 15:00:55.808 +01:00  INF  Now listening on: http://localhost:5174
2023-02-23 15:00:55.812 +01:00  INF  Application started. Press Ctrl+C to shut down.
2023-02-23 15:00:55.813 +01:00  INF  Hosting environment: Development
2023-02-23 15:00:55.813 +01:00  INF  Content root path: C:\GA\C# OOP\ZeroSigmaAuth\AngularAuthApi\
2023-02-23 15:00:56.115 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/swagger/index.html - -
2023-02-23 15:00:56.519 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/swagger/index.html - - - 200 - text/html;charset=utf-8 411.0352ms
2023-02-23 15:00:56.604 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/_framework/aspnetcore-browser-refresh.js - -
2023-02-23 15:00:56.605 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/_vs/browserLink - -
2023-02-23 15:00:56.608 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/_framework/aspnetcore-browser-refresh.js - - - 200 11998 application/javascript;+charset=utf-8 3.8364ms
2023-02-23 15:00:56.637 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.6206ms
2023-02-23 15:00:56.877 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/swagger/v1/swagger.json - -
2023-02-23 15:00:57.015 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 138.4424ms
2023-02-23 15:01:32.203 +01:00  INF  Request starting HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 63
2023-02-23 15:01:32.214 +01:00  INF  CORS policy execution successful.
2023-02-23 15:01:32.283 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 15:01:32.363 +01:00  INF  Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(AngularAuthApi.DTOS.LoginDto) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-23 15:01:36.175 +01:00  INF  Executed DbCommand (18ms) [Parameters=[@__user_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__user_Email_0
LIMIT 1
2023-02-23 15:01:37.549 +01:00  INF  Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-23 15:01:37.724 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-23 15:01:38.019 +01:00  ERR  Failed executing DbCommand (24ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = SByte), @p2='?' (DbType = SByte), @p3='?' (DbType = DateTime), @p4='?' (Size = 250), @p7='?' (DbType = Int32), @p6='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Auth` SET `ExpiredDate` = @p0, `IsActive` = @p1, `IsExpired` = @p2, `IssuedDate` = @p3, `RefreshToken` = @p4
WHERE `Id` = @p5;
UPDATE `Users` SET `Token` = @p6
WHERE `Id` = @p7;
2023-02-23 15:01:38.086 +01:00  ERR  An exception occurred in the database while saving changes for context type 'AngularAuthApi.Data_Access.UserDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: Could not save changes. Please configure your entity type accordingly.
 ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Data too long for column 'Token' at row 1
   at MySql.Data.MySqlClient.MySqlStream.ReadPacket()
   at MySql.Data.MySqlClient.NativeDriver.GetResult(Int32& affectedRow, Int64& insertedId)
   at MySql.Data.MySqlClient.Driver.GetResult(Int32 statementId, Int32& affectedRows, Int64& insertedId)
   at MySql.Data.MySqlClient.Driver.NextResult(Int32 statementId, Boolean force)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResult()
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(CommandBehavior behavior)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at MySql.EntityFrameworkCore.Update.MySQLModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at MySql.EntityFrameworkCore.Storage.Internal.MySQLExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)Microsoft.EntityFrameworkCore.DbUpdateException: Could not save changes. Please configure your entity type accordingly.
 ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Data too long for column 'Token' at row 1
   at MySql.Data.MySqlClient.MySqlStream.ReadPacket()
   at MySql.Data.MySqlClient.NativeDriver.GetResult(Int32& affectedRow, Int64& insertedId)
   at MySql.Data.MySqlClient.Driver.GetResult(Int32 statementId, Int32& affectedRows, Int64& insertedId)
   at MySql.Data.MySqlClient.Driver.NextResult(Int32 statementId, Boolean force)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResult()
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(CommandBehavior behavior)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at MySql.EntityFrameworkCore.Update.MySQLModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at MySql.EntityFrameworkCore.Storage.Internal.MySQLExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)

2023-02-23 15:01:38.112 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi) in 5735.4424ms
2023-02-23 15:01:38.115 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 15:01:38.117 +01:00  ERR  An unhandled exception has occurred while executing the request.Microsoft.EntityFrameworkCore.DbUpdateException: Could not save changes. Please configure your entity type accordingly.
 ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Data too long for column 'Token' at row 1
   at MySql.Data.MySqlClient.MySqlStream.ReadPacket()
   at MySql.Data.MySqlClient.NativeDriver.GetResult(Int32& affectedRow, Int64& insertedId)
   at MySql.Data.MySqlClient.Driver.GetResult(Int32 statementId, Int32& affectedRows, Int64& insertedId)
   at MySql.Data.MySqlClient.Driver.NextResult(Int32 statementId, Boolean force)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResult()
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(CommandBehavior behavior)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at MySql.EntityFrameworkCore.Update.MySQLModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at MySql.EntityFrameworkCore.Storage.Internal.MySQLExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at AngularAuthApi.Repositories.TokenRepository.UpdateAuth(Int32 id, Auth auth) in C:\GA\C# OOP\ZeroSigmaAuth\AngularAuthApi\Repositories\TokenRepository.cs:line 43
   at AngularAuthApi.Controllers.AuthController.Authenticate(LoginDto user) in C:\GA\C# OOP\ZeroSigmaAuth\AngularAuthApi\Controllers\AuthController.cs:line 90
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)

2023-02-23 15:01:38.178 +01:00  INF  Request finished HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 63 - 500 - text/plain;+charset=utf-8 5975.3440ms
2023-02-23 15:02:46.405 +01:00  INF  User profile is available. Using 'C:\Users\yahia alioua\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-23 15:02:46.543 +01:00  INF  Now listening on: https://localhost:7063
2023-02-23 15:02:46.543 +01:00  INF  Now listening on: http://localhost:5174
2023-02-23 15:02:46.546 +01:00  INF  Application started. Press Ctrl+C to shut down.
2023-02-23 15:02:46.546 +01:00  INF  Hosting environment: Development
2023-02-23 15:02:46.547 +01:00  INF  Content root path: C:\GA\C# OOP\ZeroSigmaAuth\AngularAuthApi\
2023-02-23 15:02:46.936 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/swagger/index.html - -
2023-02-23 15:02:47.259 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/swagger/index.html - - - 200 - text/html;charset=utf-8 326.0572ms
2023-02-23 15:02:47.382 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/_framework/aspnetcore-browser-refresh.js - -
2023-02-23 15:02:47.382 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/_vs/browserLink - -
2023-02-23 15:02:47.386 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/_framework/aspnetcore-browser-refresh.js - - - 200 11998 application/javascript;+charset=utf-8 4.0057ms
2023-02-23 15:02:47.419 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 37.2378ms
2023-02-23 15:02:47.696 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/swagger/v1/swagger.json - -
2023-02-23 15:02:47.832 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 136.0191ms
2023-02-23 15:02:59.202 +01:00  INF  Request starting HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 63
2023-02-23 15:02:59.213 +01:00  INF  CORS policy execution successful.
2023-02-23 15:02:59.252 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 15:02:59.290 +01:00  INF  Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(AngularAuthApi.DTOS.LoginDto) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-23 15:03:02.649 +01:00  INF  Executed DbCommand (18ms) [Parameters=[@__user_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__user_Email_0
LIMIT 1
2023-02-23 15:03:04.021 +01:00  INF  Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-23 15:03:04.204 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-23 15:03:04.419 +01:00  INF  Executed DbCommand (9ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = SByte), @p2='?' (DbType = SByte), @p3='?' (DbType = DateTime), @p4='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Auth` SET `ExpiredDate` = @p0, `IsActive` = @p1, `IsExpired` = @p2, `IssuedDate` = @p3, `RefreshToken` = @p4
WHERE `Id` = @p5;
2023-02-23 15:03:04.455 +01:00  INF  Executing OkObjectResult, writing value of type 'AngularAuthApi.Entities.Responses.AuthUserResponse'.
2023-02-23 15:03:04.491 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi) in 5188.7366ms
2023-02-23 15:03:04.491 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 15:03:04.503 +01:00  INF  Request finished HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 63 - 200 - application/json;+charset=utf-8 5301.0286ms
2023-02-23 15:03:44.986 +01:00  INF  Request starting HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 63
2023-02-23 15:03:44.988 +01:00  INF  CORS policy execution successful.
2023-02-23 15:03:44.989 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 15:03:44.989 +01:00  INF  Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(AngularAuthApi.DTOS.LoginDto) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-23 15:03:44.996 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__user_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__user_Email_0
LIMIT 1
2023-02-23 15:03:45.362 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-23 15:03:45.365 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-23 15:03:45.383 +01:00  INF  Executed DbCommand (15ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = SByte), @p2='?' (DbType = SByte), @p3='?' (DbType = DateTime), @p4='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Auth` SET `ExpiredDate` = @p0, `IsActive` = @p1, `IsExpired` = @p2, `IssuedDate` = @p3, `RefreshToken` = @p4
WHERE `Id` = @p5;
2023-02-23 15:03:45.384 +01:00  INF  Executing OkObjectResult, writing value of type 'AngularAuthApi.Entities.Responses.AuthUserResponse'.
2023-02-23 15:03:45.384 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi) in 395.2087ms
2023-02-23 15:03:45.384 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 15:03:45.385 +01:00  INF  Request finished HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 63 - 200 - application/json;+charset=utf-8 398.6943ms
2023-02-23 15:04:49.374 +01:00  INF  User profile is available. Using 'C:\Users\yahia alioua\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-23 15:04:49.575 +01:00  INF  Now listening on: https://localhost:7063
2023-02-23 15:04:49.576 +01:00  INF  Now listening on: http://localhost:5174
2023-02-23 15:04:49.581 +01:00  INF  Application started. Press Ctrl+C to shut down.
2023-02-23 15:04:49.581 +01:00  INF  Hosting environment: Development
2023-02-23 15:04:49.581 +01:00  INF  Content root path: C:\GA\C# OOP\ZeroSigmaAuth\AngularAuthApi\
2023-02-23 15:04:49.879 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/swagger/index.html - -
2023-02-23 15:04:50.266 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/swagger/index.html - - - 200 - text/html;charset=utf-8 392.2942ms
2023-02-23 15:04:50.340 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/_vs/browserLink - -
2023-02-23 15:04:50.340 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/_framework/aspnetcore-browser-refresh.js - -
2023-02-23 15:04:50.342 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/_framework/aspnetcore-browser-refresh.js - - - 200 11998 application/javascript;+charset=utf-8 1.9256ms
2023-02-23 15:04:50.359 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 19.1117ms
2023-02-23 15:04:50.548 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/swagger/v1/swagger.json - -
2023-02-23 15:04:50.692 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 144.2753ms
2023-02-23 15:05:14.008 +01:00  INF  Request starting HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 63
2023-02-23 15:05:14.024 +01:00  INF  CORS policy execution successful.
2023-02-23 15:05:14.092 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 15:05:14.183 +01:00  INF  Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(AngularAuthApi.DTOS.LoginDto) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-23 15:05:17.933 +01:00  INF  Executed DbCommand (18ms) [Parameters=[@__user_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__user_Email_0
LIMIT 1
2023-02-23 15:05:19.329 +01:00  INF  Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-23 15:05:19.508 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-23 15:05:19.766 +01:00  INF  Executed DbCommand (6ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = SByte), @p2='?' (DbType = SByte), @p3='?' (DbType = DateTime), @p4='?' (Size = 250), @p7='?' (DbType = Int32), @p6='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Auth` SET `ExpiredDate` = @p0, `IsActive` = @p1, `IsExpired` = @p2, `IssuedDate` = @p3, `RefreshToken` = @p4
WHERE `Id` = @p5;
UPDATE `Users` SET `Token` = @p6
WHERE `Id` = @p7;
2023-02-23 15:05:19.828 +01:00  INF  Executing OkObjectResult, writing value of type 'AngularAuthApi.Entities.Responses.AuthUserResponse'.
2023-02-23 15:05:19.859 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi) in 5663.9829ms
2023-02-23 15:05:19.859 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 15:05:19.868 +01:00  INF  Request finished HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 63 - 200 - application/json;+charset=utf-8 5859.0848ms
2023-02-23 15:06:04.501 +01:00  INF  User profile is available. Using 'C:\Users\yahia alioua\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-23 15:06:04.691 +01:00  INF  Now listening on: https://localhost:7063
2023-02-23 15:06:04.691 +01:00  INF  Now listening on: http://localhost:5174
2023-02-23 15:06:04.697 +01:00  INF  Application started. Press Ctrl+C to shut down.
2023-02-23 15:06:04.697 +01:00  INF  Hosting environment: Development
2023-02-23 15:06:04.697 +01:00  INF  Content root path: C:\GA\C# OOP\ZeroSigmaAuth\AngularAuthApi\
2023-02-23 15:06:05.042 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/swagger/index.html - -
2023-02-23 15:06:05.386 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/swagger/index.html - - - 200 - text/html;charset=utf-8 348.1487ms
2023-02-23 15:06:05.461 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/_framework/aspnetcore-browser-refresh.js - -
2023-02-23 15:06:05.461 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/_vs/browserLink - -
2023-02-23 15:06:05.463 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/_framework/aspnetcore-browser-refresh.js - - - 200 11998 application/javascript;+charset=utf-8 1.8102ms
2023-02-23 15:06:05.479 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 18.0067ms
2023-02-23 15:06:05.625 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/swagger/v1/swagger.json - -
2023-02-23 15:06:05.758 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 133.8109ms
2023-02-23 15:06:20.950 +01:00  INF  Request starting HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 63
2023-02-23 15:06:20.962 +01:00  INF  CORS policy execution successful.
2023-02-23 15:06:21.001 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 15:06:21.053 +01:00  INF  Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(AngularAuthApi.DTOS.LoginDto) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-23 15:06:22.996 +01:00  INF  Executed DbCommand (17ms) [Parameters=[@__user_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__user_Email_0
LIMIT 1
2023-02-23 15:06:24.337 +01:00  INF  Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-23 15:06:24.512 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-23 15:06:24.795 +01:00  ERR  Failed executing DbCommand (10ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = SByte), @p2='?' (DbType = SByte), @p3='?' (DbType = DateTime), @p4='?' (Size = 250), @p7='?' (DbType = Int32), @p6='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Auth` SET `ExpiredDate` = @p0, `IsActive` = @p1, `IsExpired` = @p2, `IssuedDate` = @p3, `RefreshToken` = @p4
WHERE `Id` = @p5;
UPDATE `Users` SET `Token` = @p6
WHERE `Id` = @p7;
2023-02-23 15:06:24.852 +01:00  ERR  An exception occurred in the database while saving changes for context type 'AngularAuthApi.Data_Access.UserDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: Could not save changes. Please configure your entity type accordingly.
 ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Data too long for column 'Token' at row 1
   at MySql.Data.MySqlClient.MySqlStream.ReadPacket()
   at MySql.Data.MySqlClient.NativeDriver.GetResult(Int32& affectedRow, Int64& insertedId)
   at MySql.Data.MySqlClient.Driver.GetResult(Int32 statementId, Int32& affectedRows, Int64& insertedId)
   at MySql.Data.MySqlClient.Driver.NextResult(Int32 statementId, Boolean force)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResult()
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(CommandBehavior behavior)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at MySql.EntityFrameworkCore.Update.MySQLModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at MySql.EntityFrameworkCore.Storage.Internal.MySQLExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)Microsoft.EntityFrameworkCore.DbUpdateException: Could not save changes. Please configure your entity type accordingly.
 ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Data too long for column 'Token' at row 1
   at MySql.Data.MySqlClient.MySqlStream.ReadPacket()
   at MySql.Data.MySqlClient.NativeDriver.GetResult(Int32& affectedRow, Int64& insertedId)
   at MySql.Data.MySqlClient.Driver.GetResult(Int32 statementId, Int32& affectedRows, Int64& insertedId)
   at MySql.Data.MySqlClient.Driver.NextResult(Int32 statementId, Boolean force)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResult()
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(CommandBehavior behavior)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at MySql.EntityFrameworkCore.Update.MySQLModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at MySql.EntityFrameworkCore.Storage.Internal.MySQLExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)

2023-02-23 15:06:24.871 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi) in 3802.3953ms
2023-02-23 15:06:24.872 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 15:06:24.874 +01:00  ERR  An unhandled exception has occurred while executing the request.Microsoft.EntityFrameworkCore.DbUpdateException: Could not save changes. Please configure your entity type accordingly.
 ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Data too long for column 'Token' at row 1
   at MySql.Data.MySqlClient.MySqlStream.ReadPacket()
   at MySql.Data.MySqlClient.NativeDriver.GetResult(Int32& affectedRow, Int64& insertedId)
   at MySql.Data.MySqlClient.Driver.GetResult(Int32 statementId, Int32& affectedRows, Int64& insertedId)
   at MySql.Data.MySqlClient.Driver.NextResult(Int32 statementId, Boolean force)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResult()
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(CommandBehavior behavior)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at MySql.EntityFrameworkCore.Update.MySQLModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at MySql.EntityFrameworkCore.Storage.Internal.MySQLExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at AngularAuthApi.Repositories.TokenRepository.UpdateAuth(Int32 id, Auth auth) in C:\GA\C# OOP\ZeroSigmaAuth\AngularAuthApi\Repositories\TokenRepository.cs:line 43
   at AngularAuthApi.Controllers.AuthController.Authenticate(LoginDto user) in C:\GA\C# OOP\ZeroSigmaAuth\AngularAuthApi\Controllers\AuthController.cs:line 90
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)

2023-02-23 15:06:24.926 +01:00  INF  Request finished HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 63 - 500 - text/plain;+charset=utf-8 3976.2890ms
2023-02-23 15:09:10.257 +01:00  INF  User profile is available. Using 'C:\Users\yahia alioua\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-23 15:09:10.432 +01:00  INF  Now listening on: https://localhost:7063
2023-02-23 15:09:10.433 +01:00  INF  Now listening on: http://localhost:5174
2023-02-23 15:09:10.438 +01:00  INF  Application started. Press Ctrl+C to shut down.
2023-02-23 15:09:10.438 +01:00  INF  Hosting environment: Development
2023-02-23 15:09:10.439 +01:00  INF  Content root path: C:\GA\C# OOP\ZeroSigmaAuth\AngularAuthApi\
2023-02-23 15:09:10.859 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/swagger/index.html - -
2023-02-23 15:09:11.256 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/swagger/index.html - - - 200 - text/html;charset=utf-8 402.3514ms
2023-02-23 15:09:11.327 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/_framework/aspnetcore-browser-refresh.js - -
2023-02-23 15:09:11.327 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/_vs/browserLink - -
2023-02-23 15:09:11.330 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/_framework/aspnetcore-browser-refresh.js - - - 200 11998 application/javascript;+charset=utf-8 2.0339ms
2023-02-23 15:09:11.347 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 19.6938ms
2023-02-23 15:09:11.610 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/swagger/v1/swagger.json - -
2023-02-23 15:09:11.761 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 150.8179ms
2023-02-23 15:09:38.527 +01:00  INF  User profile is available. Using 'C:\Users\yahia alioua\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-23 15:09:38.712 +01:00  INF  Now listening on: https://localhost:7063
2023-02-23 15:09:38.712 +01:00  INF  Now listening on: http://localhost:5174
2023-02-23 15:09:38.717 +01:00  INF  Application started. Press Ctrl+C to shut down.
2023-02-23 15:09:38.717 +01:00  INF  Hosting environment: Development
2023-02-23 15:09:38.717 +01:00  INF  Content root path: C:\GA\C# OOP\ZeroSigmaAuth\AngularAuthApi\
2023-02-23 15:09:39.149 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/swagger/index.html - -
2023-02-23 15:09:39.498 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/swagger/index.html - - - 200 - text/html;charset=utf-8 353.2973ms
2023-02-23 15:09:39.587 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/_framework/aspnetcore-browser-refresh.js - -
2023-02-23 15:09:39.587 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/_vs/browserLink - -
2023-02-23 15:09:39.590 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/_framework/aspnetcore-browser-refresh.js - - - 200 11998 application/javascript;+charset=utf-8 2.9312ms
2023-02-23 15:09:39.609 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 21.6606ms
2023-02-23 15:09:39.874 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/swagger/v1/swagger.json - -
2023-02-23 15:09:40.021 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 147.5204ms
2023-02-23 15:10:03.589 +01:00  INF  Request starting HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 63
2023-02-23 15:10:03.598 +01:00  INF  CORS policy execution successful.
2023-02-23 15:10:03.629 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 15:10:03.678 +01:00  INF  Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(AngularAuthApi.DTOS.LoginDto) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-23 15:10:05.815 +01:00  INF  Executed DbCommand (9ms) [Parameters=[@__user_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__user_Email_0
LIMIT 1
2023-02-23 15:10:05.835 +01:00  INF  Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-23 15:10:05.855 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi) in 2170.9802ms
2023-02-23 15:10:05.855 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 15:10:05.862 +01:00  INF  Request finished HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 63 - 404 - application/json;+charset=utf-8 2273.1457ms
2023-02-23 15:10:50.662 +01:00  INF  Request starting HTTP/2 POST https://localhost:7063/api/user/Register application/json 80
2023-02-23 15:10:50.665 +01:00  INF  CORS policy execution successful.
2023-02-23 15:10:50.666 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.RegisterUser (AngularAuthApi)'
2023-02-23 15:10:50.674 +01:00  INF  Route matched with {action = "RegisterUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(AngularAuthApi.Entities.Requests.SignUpRequest) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-23 15:10:50.712 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__userEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Users` AS `u`
    WHERE `u`.`Email` = @__userEmail_0)
2023-02-23 15:10:51.423 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 50), @p2='?' (Size = 128), @p3='?' (Size = 128) (DbType = Binary), @p4='?' (Size = 350)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Users` (`Email`, `Name`, `Password`, `Salt`, `Token`)
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT `Id`
FROM `Users`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2023-02-23 15:10:51.445 +01:00  INF  Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?' (DbType = SByte), @p8='?' (DbType = SByte), @p9='?' (DbType = DateTime), @p10='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Auth` (`Id`, `ExpiredDate`, `IsActive`, `IsExpired`, `IssuedDate`, `RefreshToken`)
VALUES (@p5, @p6, @p7, @p8, @p9, @p10);
2023-02-23 15:10:51.471 +01:00  INF  Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-23 15:10:51.471 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.RegisterUser (AngularAuthApi) in 797.0992ms
2023-02-23 15:10:51.471 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.RegisterUser (AngularAuthApi)'
2023-02-23 15:10:51.471 +01:00  INF  Request finished HTTP/2 POST https://localhost:7063/api/user/Register application/json 80 - 200 - application/json;+charset=utf-8 809.4486ms
2023-02-23 15:10:57.706 +01:00  INF  Request starting HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 63
2023-02-23 15:10:57.706 +01:00  INF  CORS policy execution successful.
2023-02-23 15:10:57.708 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 15:10:57.708 +01:00  INF  Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(AngularAuthApi.DTOS.LoginDto) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-23 15:10:57.814 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__user_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__user_Email_0
LIMIT 1
2023-02-23 15:10:57.814 +01:00  INF  Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-23 15:10:57.815 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi) in 106.1431ms
2023-02-23 15:10:57.815 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 15:10:57.815 +01:00  INF  Request finished HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 63 - 404 - application/json;+charset=utf-8 109.3851ms
2023-02-23 15:11:06.949 +01:00  INF  Request starting HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 61
2023-02-23 15:11:06.949 +01:00  INF  CORS policy execution successful.
2023-02-23 15:11:06.949 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 15:11:06.949 +01:00  INF  Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(AngularAuthApi.DTOS.LoginDto) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-23 15:11:06.953 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__user_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__user_Email_0
LIMIT 1
2023-02-23 15:11:07.455 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-23 15:11:07.500 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-23 15:11:07.521 +01:00  INF  Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = SByte), @p2='?' (DbType = SByte), @p3='?' (DbType = DateTime), @p4='?' (Size = 250), @p7='?' (DbType = Int32), @p6='?' (Size = 350)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Auth` SET `ExpiredDate` = @p0, `IsActive` = @p1, `IsExpired` = @p2, `IssuedDate` = @p3, `RefreshToken` = @p4
WHERE `Id` = @p5;
UPDATE `Users` SET `Token` = @p6
WHERE `Id` = @p7;
2023-02-23 15:11:07.543 +01:00  INF  Executing OkObjectResult, writing value of type 'AngularAuthApi.Entities.Responses.AuthUserResponse'.
2023-02-23 15:11:07.546 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi) in 596.2482ms
2023-02-23 15:11:07.546 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-23 15:11:07.546 +01:00  INF  Request finished HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 61 - 200 - application/json;+charset=utf-8 597.3051ms
2023-02-23 15:12:07.725 +01:00  INF  Request starting HTTP/2 POST https://localhost:7063/api/user/refresh application/json 228
2023-02-23 15:12:07.726 +01:00  INF  CORS policy execution successful.
2023-02-23 15:12:07.726 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-23 15:12:07.730 +01:00  INF  Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(AngularAuthApi.Entities.Requests.RefreshAuthRequest) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-23 15:12:07.747 +01:00  INF  Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-23 15:12:07.748 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi) in 17.6965ms
2023-02-23 15:12:07.748 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-23 15:12:07.748 +01:00  INF  Request finished HTTP/2 POST https://localhost:7063/api/user/refresh application/json 228 - 400 - application/json;+charset=utf-8 22.6942ms
2023-02-23 15:12:14.765 +01:00  INF  Request starting HTTP/2 POST https://localhost:7063/api/user/refresh application/json 228
2023-02-23 15:12:14.765 +01:00  INF  CORS policy execution successful.
2023-02-23 15:12:14.765 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-23 15:12:14.765 +01:00  INF  Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(AngularAuthApi.Entities.Requests.RefreshAuthRequest) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-23 15:12:14.767 +01:00  INF  Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-23 15:12:14.767 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi) in 1.6237ms
2023-02-23 15:12:14.767 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-23 15:12:14.767 +01:00  INF  Request finished HTTP/2 POST https://localhost:7063/api/user/refresh application/json 228 - 400 - application/json;+charset=utf-8 2.4879ms
2023-02-23 15:12:22.714 +01:00  INF  Request starting HTTP/2 POST https://localhost:7063/api/user/refresh application/json 229
2023-02-23 15:12:22.714 +01:00  INF  CORS policy execution successful.
2023-02-23 15:12:22.714 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-23 15:12:22.715 +01:00  INF  Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(AngularAuthApi.Entities.Requests.RefreshAuthRequest) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-23 15:12:22.715 +01:00  INF  Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-23 15:12:22.716 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi) in 1.0797ms
2023-02-23 15:12:22.716 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-23 15:12:22.716 +01:00  INF  Request finished HTTP/2 POST https://localhost:7063/api/user/refresh application/json 229 - 400 - application/json;+charset=utf-8 1.7468ms
2023-02-23 15:12:23.889 +01:00  INF  Request starting HTTP/2 POST https://localhost:7063/api/user/refresh application/json 229
2023-02-23 15:12:23.889 +01:00  INF  CORS policy execution successful.
2023-02-23 15:12:23.889 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-23 15:12:23.889 +01:00  INF  Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(AngularAuthApi.Entities.Requests.RefreshAuthRequest) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-23 15:12:23.890 +01:00  INF  Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-23 15:12:23.891 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi) in 1.314ms
2023-02-23 15:12:23.891 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-23 15:12:23.891 +01:00  INF  Request finished HTTP/2 POST https://localhost:7063/api/user/refresh application/json 229 - 400 - application/json;+charset=utf-8 2.1759ms
