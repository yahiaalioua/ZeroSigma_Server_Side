2023-02-24 11:20:53.869 +01:00  INF  User profile is available. Using 'C:\Users\yahia alioua\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-24 11:20:54.129 +01:00  INF  Application started. Press Ctrl+C to shut down.
2023-02-24 11:20:54.130 +01:00  INF  Hosting environment: Development
2023-02-24 11:20:54.130 +01:00  INF  Content root path: C:\GA\C# OOP\ZeroSigmaAuth\AngularAuthApi\
2023-02-24 11:20:54.162 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger - -
2023-02-24 11:20:54.300 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger - - - 301 - - 143.1935ms
2023-02-24 11:20:54.305 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/index.html - -
2023-02-24 11:20:54.752 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/index.html - - - 200 - text/html;charset=utf-8 446.2082ms
2023-02-24 11:20:54.855 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/swagger-ui.css - -
2023-02-24 11:20:54.858 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/swagger-ui-bundle.js - -
2023-02-24 11:20:54.860 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/swagger-ui-standalone-preset.js - -
2023-02-24 11:20:54.888 +01:00  INF  Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-02-24 11:20:54.889 +01:00  INF  Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-02-24 11:20:54.890 +01:00  INF  Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-02-24 11:20:54.892 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/swagger-ui.css - - - 200 143632 text/css 36.8243ms
2023-02-24 11:20:54.910 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 50.3738ms
2023-02-24 11:20:54.953 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/_framework/aspnetcore-browser-refresh.js - -
2023-02-24 11:20:54.956 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 98.7000ms
2023-02-24 11:20:54.961 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/_framework/aspnetcore-browser-refresh.js - - - 200 11998 application/javascript;+charset=utf-8 4.1838ms
2023-02-24 11:20:54.984 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/_vs/browserLink - -
2023-02-24 11:20:55.042 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 58.7066ms
2023-02-24 11:20:55.527 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/v1/swagger.json - -
2023-02-24 11:20:55.669 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.3477ms
2023-02-24 11:21:20.939 +01:00  INF  Request starting HTTP/2 POST https://localhost:44344/api/user/Authenticate application/json 59
2023-02-24 11:21:20.948 +01:00  INF  CORS policy execution successful.
2023-02-24 11:21:21.001 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-24 11:21:21.084 +01:00  INF  Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(AngularAuthApi.DTOS.LoginDto) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-24 11:21:25.436 +01:00  INF  Executed DbCommand (41ms) [Parameters=[@__user_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__user_Email_0
LIMIT 1
2023-02-24 11:21:26.650 +01:00  INF  Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-24 11:21:26.706 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi) in 5608.7531ms
2023-02-24 11:21:26.706 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-24 11:21:26.721 +01:00  INF  Request finished HTTP/2 POST https://localhost:44344/api/user/Authenticate application/json 59 - 400 - application/json;+charset=utf-8 5781.7923ms
2023-02-24 11:22:24.700 +01:00  INF  Request starting HTTP/2 POST https://localhost:44344/api/user/Authenticate application/json 63
2023-02-24 11:22:24.702 +01:00  INF  CORS policy execution successful.
2023-02-24 11:22:24.703 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-24 11:22:24.703 +01:00  INF  Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(AngularAuthApi.DTOS.LoginDto) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-24 11:22:24.719 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__user_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__user_Email_0
LIMIT 1
2023-02-24 11:22:25.858 +01:00  INF  Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-24 11:22:26.049 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-24 11:22:26.288 +01:00  INF  Executed DbCommand (11ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = SByte), @p2='?' (DbType = SByte), @p3='?' (DbType = DateTime), @p4='?' (Size = 500), @p7='?' (DbType = Int32), @p6='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Auth` SET `ExpiredDate` = @p0, `IsActive` = @p1, `IsExpired` = @p2, `IssuedDate` = @p3, `RefreshToken` = @p4
WHERE `Id` = @p5;
UPDATE `Users` SET `Token` = @p6
WHERE `Id` = @p7;
2023-02-24 11:22:26.349 +01:00  INF  Executing OkObjectResult, writing value of type 'AngularAuthApi.Entities.Responses.AuthUserResponse'.
2023-02-24 11:22:26.358 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi) in 1654.523ms
2023-02-24 11:22:26.358 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-24 11:22:26.359 +01:00  INF  Request finished HTTP/2 POST https://localhost:44344/api/user/Authenticate application/json 63 - 200 - application/json;+charset=utf-8 1659.0200ms
2023-02-24 11:32:47.419 +01:00  INF  Request starting HTTP/2 POST https://localhost:44344/api/user/refresh application/json 308
2023-02-24 11:32:47.421 +01:00  INF  CORS policy execution successful.
2023-02-24 11:32:47.427 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-24 11:32:47.433 +01:00  INF  Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(AngularAuthApi.Entities.Requests.RefreshAuthRequest) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-24 11:32:47.486 +01:00  INF  Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-02-24 11:32:47.504 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi) in 70.6926ms
2023-02-24 11:32:47.504 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-24 11:32:47.505 +01:00  INF  Request finished HTTP/2 POST https://localhost:44344/api/user/refresh application/json 308 - 400 - application/problem+json;+charset=utf-8 85.4171ms
2023-02-24 11:33:09.049 +01:00  INF  Request starting HTTP/2 POST https://localhost:44344/api/user/refresh application/json 311
2023-02-24 11:33:09.049 +01:00  INF  CORS policy execution successful.
2023-02-24 11:33:09.050 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-24 11:33:09.050 +01:00  INF  Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(AngularAuthApi.Entities.Requests.RefreshAuthRequest) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-24 11:33:09.208 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`RefreshToken` = @__refreshToken_0
LIMIT 1
2023-02-24 11:33:09.216 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__id_0
LIMIT 1
2023-02-24 11:33:09.218 +01:00  INF  Executing OkObjectResult, writing value of type 'AngularAuthApi.Entities.Responses.AuthUserResponse'.
2023-02-24 11:33:09.218 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi) in 167.9454ms
2023-02-24 11:33:09.218 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-24 11:33:09.218 +01:00  INF  Request finished HTTP/2 POST https://localhost:44344/api/user/refresh application/json 311 - 200 - application/json;+charset=utf-8 169.0537ms
2023-02-24 12:26:51.343 +01:00  INF  User profile is available. Using 'C:\Users\yahia alioua\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-24 12:26:51.477 +01:00  INF  Application started. Press Ctrl+C to shut down.
2023-02-24 12:26:51.477 +01:00  INF  Hosting environment: Development
2023-02-24 12:26:51.477 +01:00  INF  Content root path: C:\GA\C# OOP\ZeroSigmaAuth\AngularAuthApi\
2023-02-24 12:26:51.502 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger - -
2023-02-24 12:26:51.637 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger - - - 301 - - 140.6351ms
2023-02-24 12:26:51.643 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/index.html - -
2023-02-24 12:26:51.967 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/index.html - - - 200 - text/html;charset=utf-8 324.1691ms
2023-02-24 12:26:52.052 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/swagger-ui-bundle.js - -
2023-02-24 12:26:52.052 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/swagger-ui.css - -
2023-02-24 12:26:52.056 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/_framework/aspnetcore-browser-refresh.js - -
2023-02-24 12:26:52.056 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/swagger-ui-standalone-preset.js - -
2023-02-24 12:26:52.056 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/_vs/browserLink - -
2023-02-24 12:26:52.065 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/_framework/aspnetcore-browser-refresh.js - - - 200 11998 application/javascript;+charset=utf-8 5.1907ms
2023-02-24 12:26:52.081 +01:00  INF  Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-02-24 12:26:52.081 +01:00  INF  Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-02-24 12:26:52.081 +01:00  INF  Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-02-24 12:26:52.085 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/swagger-ui.css - - - 200 143632 text/css 33.4697ms
2023-02-24 12:26:52.105 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 48.8730ms
2023-02-24 12:26:52.134 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 78.1797ms
2023-02-24 12:26:52.150 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 98.5214ms
2023-02-24 12:26:52.439 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/v1/swagger.json - -
2023-02-24 12:26:52.625 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 185.8408ms
2023-02-24 12:27:03.390 +01:00  INF  Request starting HTTP/2 POST https://localhost:44344/api/user/Authenticate application/json 63
2023-02-24 12:27:03.400 +01:00  INF  CORS policy execution successful.
2023-02-24 12:27:03.444 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-24 12:27:03.490 +01:00  INF  Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(AngularAuthApi.DTOS.LoginDto) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-24 12:27:05.436 +01:00  INF  Executed DbCommand (14ms) [Parameters=[@__user_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__user_Email_0
LIMIT 1
2023-02-24 12:27:06.007 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-24 12:27:06.099 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-24 12:27:06.239 +01:00  INF  Executed DbCommand (5ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = SByte), @p2='?' (DbType = SByte), @p3='?' (DbType = DateTime), @p4='?' (Size = 500), @p7='?' (DbType = Int32), @p6='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Auth` SET `ExpiredDate` = @p0, `IsActive` = @p1, `IsExpired` = @p2, `IssuedDate` = @p3, `RefreshToken` = @p4
WHERE `Id` = @p5;
UPDATE `Users` SET `Token` = @p6
WHERE `Id` = @p7;
2023-02-24 12:27:06.259 +01:00  INF  Executing OkObjectResult, writing value of type 'AngularAuthApi.Entities.Responses.AuthUserResponse'.
2023-02-24 12:27:06.282 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi) in 2781.6679ms
2023-02-24 12:27:06.283 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-24 12:27:06.293 +01:00  INF  Request finished HTTP/2 POST https://localhost:44344/api/user/Authenticate application/json 63 - 200 - application/json;+charset=utf-8 2902.7808ms
2023-02-24 12:28:07.816 +01:00  INF  Request starting HTTP/2 POST https://localhost:44344/api/user/refresh application/json 311
2023-02-24 12:28:07.819 +01:00  INF  CORS policy execution successful.
2023-02-24 12:28:07.820 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-24 12:28:07.825 +01:00  INF  Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(AngularAuthApi.Entities.Requests.RefreshAuthRequest) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-24 12:28:07.879 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`RefreshToken` = @__refreshToken_0
LIMIT 1
2023-02-24 12:28:07.885 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__id_0
LIMIT 1
2023-02-24 12:28:07.891 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__id_0
LIMIT 1
2023-02-24 12:28:07.917 +01:00  INF  Executed DbCommand (18ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (Size = 50), @p2='?' (Size = 128), @p3='?' (Size = 128) (DbType = Binary), @p4='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Users` SET `Email` = @p0, `Name` = @p1, `Password` = @p2, `Salt` = @p3, `Token` = @p4
WHERE `Id` = @p5;
2023-02-24 12:28:07.917 +01:00  INF  Executing OkObjectResult, writing value of type 'AngularAuthApi.Entities.Responses.AuthUserResponse'.
2023-02-24 12:28:07.918 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi) in 92.5112ms
2023-02-24 12:28:07.918 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-24 12:28:07.918 +01:00  INF  Request finished HTTP/2 POST https://localhost:44344/api/user/refresh application/json 311 - 200 - application/json;+charset=utf-8 102.0593ms
2023-02-24 12:28:29.924 +01:00  INF  Request starting HTTP/2 POST https://localhost:44344/api/user/Authenticate application/json 66
2023-02-24 12:28:29.925 +01:00  INF  CORS policy execution successful.
2023-02-24 12:28:29.929 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-24 12:28:29.930 +01:00  INF  Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(AngularAuthApi.DTOS.LoginDto) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-24 12:28:30.017 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__user_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__user_Email_0
LIMIT 1
2023-02-24 12:28:30.373 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-24 12:28:30.375 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-24 12:28:30.377 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = SByte), @p2='?' (DbType = SByte), @p3='?' (DbType = DateTime), @p4='?' (Size = 500), @p7='?' (DbType = Int32), @p6='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Auth` SET `ExpiredDate` = @p0, `IsActive` = @p1, `IsExpired` = @p2, `IssuedDate` = @p3, `RefreshToken` = @p4
WHERE `Id` = @p5;
UPDATE `Users` SET `Token` = @p6
WHERE `Id` = @p7;
2023-02-24 12:28:30.380 +01:00  INF  Executing OkObjectResult, writing value of type 'AngularAuthApi.Entities.Responses.AuthUserResponse'.
2023-02-24 12:28:30.380 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi) in 450.6712ms
2023-02-24 12:28:30.381 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-24 12:28:30.381 +01:00  INF  Request finished HTTP/2 POST https://localhost:44344/api/user/Authenticate application/json 66 - 200 - application/json;+charset=utf-8 456.2545ms
2023-02-24 13:45:54.769 +01:00  INF  User profile is available. Using 'C:\Users\yahia alioua\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-24 13:45:54.916 +01:00  INF  Application started. Press Ctrl+C to shut down.
2023-02-24 13:45:54.917 +01:00  INF  Hosting environment: Development
2023-02-24 13:45:54.917 +01:00  INF  Content root path: C:\GA\C# OOP\ZeroSigmaAuth\AngularAuthApi\
2023-02-24 13:45:54.945 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger - -
2023-02-24 13:45:55.057 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger - - - 301 - - 117.1480ms
2023-02-24 13:45:55.062 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/index.html - -
2023-02-24 13:45:55.375 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/index.html - - - 200 - text/html;charset=utf-8 313.4956ms
2023-02-24 13:45:55.466 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/swagger-ui.css - -
2023-02-24 13:45:55.475 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/swagger-ui-bundle.js - -
2023-02-24 13:45:55.476 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/_vs/browserLink - -
2023-02-24 13:45:55.476 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/_framework/aspnetcore-browser-refresh.js - -
2023-02-24 13:45:55.483 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/_framework/aspnetcore-browser-refresh.js - - - 200 11998 application/javascript;+charset=utf-8 3.6054ms
2023-02-24 13:45:55.484 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/swagger-ui-standalone-preset.js - -
2023-02-24 13:45:55.495 +01:00  INF  Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-02-24 13:45:55.497 +01:00  INF  Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-02-24 13:45:55.500 +01:00  INF  Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-02-24 13:45:55.515 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/swagger-ui.css - - - 200 143632 text/css 49.1601ms
2023-02-24 13:45:55.548 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 63.2779ms
2023-02-24 13:45:55.584 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 107.8877ms
2023-02-24 13:45:55.589 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 113.1282ms
2023-02-24 13:45:55.833 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/v1/swagger.json - -
2023-02-24 13:45:55.977 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 143.4006ms
2023-02-24 13:46:27.400 +01:00  INF  Request starting HTTP/2 POST https://localhost:44344/api/user/Register application/json 82
2023-02-24 13:46:27.412 +01:00  INF  CORS policy execution successful.
2023-02-24 13:46:27.480 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.RegisterUser (AngularAuthApi)'
2023-02-24 13:46:27.588 +01:00  INF  Route matched with {action = "RegisterUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(AngularAuthApi.Entities.Requests.SignUpRequest) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-24 13:46:31.804 +01:00  INF  Executed DbCommand (20ms) [Parameters=[@__userEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Users` AS `u`
    WHERE `u`.`Email` = @__userEmail_0)
2023-02-24 13:46:33.443 +01:00  INF  Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 50), @p2='?' (Size = 128), @p3='?' (Size = 128) (DbType = Binary), @p4='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Users` (`Email`, `Name`, `Password`, `Salt`, `Token`)
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT `Id`
FROM `Users`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2023-02-24 13:46:33.506 +01:00  INF  Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?' (DbType = SByte), @p8='?' (DbType = SByte), @p9='?' (DbType = DateTime), @p10='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Auth` (`Id`, `ExpiredDate`, `IsActive`, `IsExpired`, `IssuedDate`, `RefreshToken`)
VALUES (@p5, @p6, @p7, @p8, @p9, @p10);
2023-02-24 13:46:33.539 +01:00  INF  Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-24 13:46:33.575 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.RegisterUser (AngularAuthApi) in 5975.653ms
2023-02-24 13:46:33.575 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.RegisterUser (AngularAuthApi)'
2023-02-24 13:46:33.584 +01:00  INF  Request finished HTTP/2 POST https://localhost:44344/api/user/Register application/json 82 - 200 - application/json;+charset=utf-8 6184.1659ms
2023-02-24 13:46:52.143 +01:00  INF  Request starting HTTP/2 POST https://localhost:44344/api/user/Authenticate application/json 63
2023-02-24 13:46:52.147 +01:00  INF  CORS policy execution successful.
2023-02-24 13:46:52.149 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-24 13:46:52.155 +01:00  INF  Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(AngularAuthApi.DTOS.LoginDto) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-24 13:46:52.260 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__user_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__user_Email_0
LIMIT 1
2023-02-24 13:46:53.279 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-24 13:46:53.376 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-24 13:46:53.421 +01:00  INF  Executed DbCommand (10ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = SByte), @p2='?' (DbType = SByte), @p3='?' (DbType = DateTime), @p4='?' (Size = 500), @p7='?' (DbType = Int32), @p6='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Auth` SET `ExpiredDate` = @p0, `IsActive` = @p1, `IsExpired` = @p2, `IssuedDate` = @p3, `RefreshToken` = @p4
WHERE `Id` = @p5;
UPDATE `Users` SET `Token` = @p6
WHERE `Id` = @p7;
2023-02-24 13:46:53.461 +01:00  INF  Executing OkObjectResult, writing value of type 'AngularAuthApi.Entities.Responses.AuthUserResponse'.
2023-02-24 13:46:53.467 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi) in 1311.6965ms
2023-02-24 13:46:53.468 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-24 13:46:53.468 +01:00  INF  Request finished HTTP/2 POST https://localhost:44344/api/user/Authenticate application/json 63 - 200 - application/json;+charset=utf-8 1324.9668ms
2023-02-24 13:47:40.426 +01:00  INF  Request starting HTTP/2 POST https://localhost:44344/api/user/refresh application/json 311
2023-02-24 13:47:40.427 +01:00  INF  CORS policy execution successful.
2023-02-24 13:47:40.431 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-24 13:47:40.437 +01:00  INF  Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(AngularAuthApi.Entities.Requests.RefreshAuthRequest) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-24 13:47:40.592 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`RefreshToken` = @__refreshToken_0
LIMIT 1
2023-02-24 13:47:40.601 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__id_0
LIMIT 1
2023-02-24 13:47:40.605 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__id_0
LIMIT 1
2023-02-24 13:47:40.626 +01:00  INF  Executed DbCommand (16ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (Size = 50), @p2='?' (Size = 128), @p3='?' (Size = 128) (DbType = Binary), @p4='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Users` SET `Email` = @p0, `Name` = @p1, `Password` = @p2, `Salt` = @p3, `Token` = @p4
WHERE `Id` = @p5;
2023-02-24 13:47:40.630 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-24 13:47:40.635 +01:00  INF  Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = SByte), @p2='?' (DbType = SByte), @p3='?' (DbType = DateTime), @p4='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Auth` SET `ExpiredDate` = @p0, `IsActive` = @p1, `IsExpired` = @p2, `IssuedDate` = @p3, `RefreshToken` = @p4
WHERE `Id` = @p5;
2023-02-24 13:47:40.635 +01:00  INF  Executing OkObjectResult, writing value of type 'AngularAuthApi.Entities.Responses.AuthUserResponse'.
2023-02-24 13:47:40.635 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi) in 198.2685ms
2023-02-24 13:47:40.635 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-24 13:47:40.636 +01:00  INF  Request finished HTTP/2 POST https://localhost:44344/api/user/refresh application/json 311 - 200 - application/json;+charset=utf-8 209.4873ms
2023-02-24 13:49:07.634 +01:00  INF  Request starting HTTP/2 POST https://localhost:44344/api/user/refresh application/json 313
2023-02-24 13:49:07.635 +01:00  INF  CORS policy execution successful.
2023-02-24 13:49:07.635 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-24 13:49:07.635 +01:00  INF  Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(AngularAuthApi.Entities.Requests.RefreshAuthRequest) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-24 13:49:07.640 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`RefreshToken` = @__refreshToken_0
LIMIT 1
2023-02-24 13:49:07.642 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__id_0
LIMIT 1
2023-02-24 13:49:07.645 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__id_0
LIMIT 1
2023-02-24 13:49:07.662 +01:00  INF  Executed DbCommand (16ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (Size = 50), @p2='?' (Size = 128), @p3='?' (Size = 128) (DbType = Binary), @p4='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Users` SET `Email` = @p0, `Name` = @p1, `Password` = @p2, `Salt` = @p3, `Token` = @p4
WHERE `Id` = @p5;
2023-02-24 13:49:07.664 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-24 13:49:07.668 +01:00  INF  Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = SByte), @p2='?' (DbType = SByte), @p3='?' (DbType = DateTime), @p4='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Auth` SET `ExpiredDate` = @p0, `IsActive` = @p1, `IsExpired` = @p2, `IssuedDate` = @p3, `RefreshToken` = @p4
WHERE `Id` = @p5;
2023-02-24 13:49:07.668 +01:00  INF  Executing OkObjectResult, writing value of type 'AngularAuthApi.Entities.Responses.AuthUserResponse'.
2023-02-24 13:49:07.669 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi) in 33.2733ms
2023-02-24 13:49:07.669 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-24 13:49:07.669 +01:00  INF  Request finished HTTP/2 POST https://localhost:44344/api/user/refresh application/json 313 - 200 - application/json;+charset=utf-8 34.6587ms
2023-02-24 13:49:17.329 +01:00  INF  Request starting HTTP/2 POST https://localhost:44344/api/user/refresh application/json 313
2023-02-24 13:49:17.329 +01:00  INF  CORS policy execution successful.
2023-02-24 13:49:17.329 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-24 13:49:17.329 +01:00  INF  Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(AngularAuthApi.Entities.Requests.RefreshAuthRequest) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-24 13:49:17.333 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`RefreshToken` = @__refreshToken_0
LIMIT 1
2023-02-24 13:49:17.334 +01:00  INF  Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-24 13:49:17.337 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi) in 7.3909ms
2023-02-24 13:49:17.337 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-24 13:49:17.337 +01:00  INF  Request finished HTTP/2 POST https://localhost:44344/api/user/refresh application/json 313 - 400 - application/json;+charset=utf-8 8.7547ms
2023-02-24 13:53:23.062 +01:00  INF  Request starting HTTP/2 POST https://localhost:44344/api/user/refresh application/json 313
2023-02-24 13:53:23.062 +01:00  INF  CORS policy execution successful.
2023-02-24 13:53:23.062 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-24 13:53:23.062 +01:00  INF  Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(AngularAuthApi.Entities.Requests.RefreshAuthRequest) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-24 13:53:23.097 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`RefreshToken` = @__refreshToken_0
LIMIT 1
2023-02-24 13:53:23.099 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__id_0
LIMIT 1
2023-02-24 13:53:23.101 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__id_0
LIMIT 1
2023-02-24 13:53:23.105 +01:00  INF  Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (Size = 50), @p2='?' (Size = 128), @p3='?' (Size = 128) (DbType = Binary), @p4='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Users` SET `Email` = @p0, `Name` = @p1, `Password` = @p2, `Salt` = @p3, `Token` = @p4
WHERE `Id` = @p5;
2023-02-24 13:53:23.107 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-24 13:53:23.110 +01:00  INF  Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = SByte), @p2='?' (DbType = SByte), @p3='?' (DbType = DateTime), @p4='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Auth` SET `ExpiredDate` = @p0, `IsActive` = @p1, `IsExpired` = @p2, `IssuedDate` = @p3, `RefreshToken` = @p4
WHERE `Id` = @p5;
2023-02-24 13:53:23.111 +01:00  INF  Executing OkObjectResult, writing value of type 'AngularAuthApi.Entities.Responses.AuthUserResponse'.
2023-02-24 13:53:23.111 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi) in 48.4607ms
2023-02-24 13:53:23.111 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Refresh (AngularAuthApi)'
2023-02-24 13:53:23.111 +01:00  INF  Request finished HTTP/2 POST https://localhost:44344/api/user/refresh application/json 313 - 200 - application/json;+charset=utf-8 49.3235ms
2023-02-24 13:58:40.983 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger - -
2023-02-24 13:58:40.987 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger - - - 301 - - 3.7013ms
2023-02-24 13:58:41.003 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/index.html - -
2023-02-24 13:58:41.014 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/index.html - - - 200 - text/html;charset=utf-8 10.4889ms
2023-02-24 13:58:41.114 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/_vs/browserLink - -
2023-02-24 13:58:41.114 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/swagger-ui-standalone-preset.js - -
2023-02-24 13:58:41.116 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/_framework/aspnetcore-browser-refresh.js - -
2023-02-24 13:58:41.116 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/swagger-ui.css - -
2023-02-24 13:58:41.117 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/_framework/aspnetcore-browser-refresh.js - - - 200 11998 application/javascript;+charset=utf-8 3.6153ms
2023-02-24 13:58:41.117 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/swagger-ui-bundle.js - -
2023-02-24 13:58:41.122 +01:00  INF  Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-02-24 13:58:41.124 +01:00  INF  Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-02-24 13:58:41.126 +01:00  INF  Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-02-24 13:58:41.134 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/swagger-ui.css - - - 200 143632 text/css 17.6378ms
2023-02-24 13:58:41.183 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 69.0966ms
2023-02-24 13:58:41.190 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 75.9612ms
2023-02-24 13:58:41.225 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 108.0576ms
2023-02-24 13:58:41.535 +01:00  INF  Request starting HTTP/2 GET https://localhost:44344/swagger/v1/swagger.json - -
2023-02-24 13:58:41.542 +01:00  INF  Request finished HTTP/2 GET https://localhost:44344/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 6.8006ms
2023-02-24 14:00:56.721 +01:00  INF  Request starting HTTP/2 POST https://localhost:44344/api/user/Register application/json 67
2023-02-24 14:00:56.721 +01:00  INF  CORS policy execution successful.
2023-02-24 14:00:56.721 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.RegisterUser (AngularAuthApi)'
2023-02-24 14:00:56.721 +01:00  INF  Route matched with {action = "RegisterUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(AngularAuthApi.Entities.Requests.SignUpRequest) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-24 14:00:56.752 +01:00  INF  Executed DbCommand (2ms) [Parameters=[@__userEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Users` AS `u`
    WHERE `u`.`Email` = @__userEmail_0)
2023-02-24 14:00:56.753 +01:00  INF  Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-24 14:00:56.754 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.RegisterUser (AngularAuthApi) in 32.1115ms
2023-02-24 14:00:56.754 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.RegisterUser (AngularAuthApi)'
2023-02-24 14:00:56.754 +01:00  INF  Request finished HTTP/2 POST https://localhost:44344/api/user/Register application/json 67 - 400 - application/json;+charset=utf-8 33.0100ms
2023-02-24 14:01:42.562 +01:00  INF  User profile is available. Using 'C:\Users\yahia alioua\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-24 14:01:42.776 +01:00  INF  Now listening on: https://localhost:7063
2023-02-24 14:01:42.777 +01:00  INF  Now listening on: http://localhost:5174
2023-02-24 14:01:42.782 +01:00  INF  Application started. Press Ctrl+C to shut down.
2023-02-24 14:01:42.782 +01:00  INF  Hosting environment: Development
2023-02-24 14:01:42.782 +01:00  INF  Content root path: C:\GA\C# OOP\ZeroSigmaAuth\AngularAuthApi\
2023-02-24 14:01:43.555 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/swagger/index.html - -
2023-02-24 14:01:44.096 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/swagger/index.html - - - 200 - text/html;charset=utf-8 546.9599ms
2023-02-24 14:01:44.213 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/_vs/browserLink - -
2023-02-24 14:01:44.213 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/_framework/aspnetcore-browser-refresh.js - -
2023-02-24 14:01:44.217 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/_framework/aspnetcore-browser-refresh.js - - - 200 11998 application/javascript;+charset=utf-8 3.4181ms
2023-02-24 14:01:44.249 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.0641ms
2023-02-24 14:01:44.427 +01:00  INF  Request starting HTTP/2 GET https://localhost:7063/swagger/v1/swagger.json - -
2023-02-24 14:01:44.567 +01:00  INF  Request finished HTTP/2 GET https://localhost:7063/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 140.4992ms
2023-02-24 14:02:16.887 +01:00  INF  Request starting HTTP/2 OPTIONS https://localhost:7063/api/user/Authenticate - -
2023-02-24 14:02:16.897 +01:00  INF  CORS policy execution successful.
2023-02-24 14:02:16.899 +01:00  INF  Request finished HTTP/2 OPTIONS https://localhost:7063/api/user/Authenticate - - - 204 - - 12.2684ms
2023-02-24 14:02:16.919 +01:00  INF  Request starting HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 54
2023-02-24 14:02:16.920 +01:00  INF  CORS policy execution successful.
2023-02-24 14:02:16.970 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-24 14:02:17.040 +01:00  INF  Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(AngularAuthApi.DTOS.LoginDto) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-24 14:02:21.320 +01:00  INF  Executed DbCommand (22ms) [Parameters=[@__user_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__user_Email_0
LIMIT 1
2023-02-24 14:02:22.779 +01:00  INF  Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-24 14:02:23.037 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-24 14:02:23.339 +01:00  INF  Executed DbCommand (9ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = SByte), @p2='?' (DbType = SByte), @p3='?' (DbType = DateTime), @p4='?' (Size = 500), @p7='?' (DbType = Int32), @p6='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Auth` SET `ExpiredDate` = @p0, `IsActive` = @p1, `IsExpired` = @p2, `IssuedDate` = @p3, `RefreshToken` = @p4
WHERE `Id` = @p5;
UPDATE `Users` SET `Token` = @p6
WHERE `Id` = @p7;
2023-02-24 14:02:23.403 +01:00  INF  Executing OkObjectResult, writing value of type 'AngularAuthApi.Entities.Responses.AuthUserResponse'.
2023-02-24 14:02:23.444 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi) in 6389.2983ms
2023-02-24 14:02:23.444 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-24 14:02:23.458 +01:00  INF  Request finished HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 54 - 200 - application/json;+charset=utf-8 6539.6717ms
2023-02-24 14:04:54.649 +01:00  INF  Request starting HTTP/2 OPTIONS https://localhost:7063/api/user/Authenticate - -
2023-02-24 14:04:54.650 +01:00  INF  CORS policy execution successful.
2023-02-24 14:04:54.651 +01:00  INF  Request finished HTTP/2 OPTIONS https://localhost:7063/api/user/Authenticate - - - 204 - - 1.8123ms
2023-02-24 14:04:54.664 +01:00  INF  Request starting HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 54
2023-02-24 14:04:54.664 +01:00  INF  CORS policy execution successful.
2023-02-24 14:04:54.665 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-24 14:04:54.665 +01:00  INF  Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(AngularAuthApi.DTOS.LoginDto) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-24 14:04:54.677 +01:00  INF  Executed DbCommand (2ms) [Parameters=[@__user_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__user_Email_0
LIMIT 1
2023-02-24 14:04:55.490 +01:00  INF  Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-24 14:04:55.502 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi) in 835.9407ms
2023-02-24 14:04:55.502 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-24 14:04:55.502 +01:00  INF  Request finished HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 54 - 400 - application/json;+charset=utf-8 838.5236ms
2023-02-24 14:05:12.936 +01:00  INF  Request starting HTTP/2 OPTIONS https://localhost:7063/api/user/Authenticate - -
2023-02-24 14:05:12.936 +01:00  INF  CORS policy execution successful.
2023-02-24 14:05:12.937 +01:00  INF  Request finished HTTP/2 OPTIONS https://localhost:7063/api/user/Authenticate - - - 204 - - 0.4693ms
2023-02-24 14:05:12.951 +01:00  INF  Request starting HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 54
2023-02-24 14:05:12.951 +01:00  INF  CORS policy execution successful.
2023-02-24 14:05:12.955 +01:00  INF  Executing endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-24 14:05:12.955 +01:00  INF  Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(AngularAuthApi.DTOS.LoginDto) on controller AngularAuthApi.Controllers.AuthController (AngularAuthApi).
2023-02-24 14:05:13.108 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__user_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Name`, `u`.`Password`, `u`.`Salt`, `u`.`Token`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__user_Email_0
LIMIT 1
2023-02-24 14:05:14.003 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-24 14:05:14.006 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ExpiredDate`, `a`.`IsActive`, `a`.`IsExpired`, `a`.`IssuedDate`, `a`.`RefreshToken`
FROM `Auth` AS `a`
WHERE `a`.`Id` = @__id_0
LIMIT 1
2023-02-24 14:05:14.010 +01:00  INF  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = SByte), @p2='?' (DbType = SByte), @p3='?' (DbType = DateTime), @p4='?' (Size = 500), @p7='?' (DbType = Int32), @p6='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Auth` SET `ExpiredDate` = @p0, `IsActive` = @p1, `IsExpired` = @p2, `IssuedDate` = @p3, `RefreshToken` = @p4
WHERE `Id` = @p5;
UPDATE `Users` SET `Token` = @p6
WHERE `Id` = @p7;
2023-02-24 14:05:14.027 +01:00  INF  Executing OkObjectResult, writing value of type 'AngularAuthApi.Entities.Responses.AuthUserResponse'.
2023-02-24 14:05:14.028 +01:00  INF  Executed action AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi) in 1072.7405ms
2023-02-24 14:05:14.028 +01:00  INF  Executed endpoint 'AngularAuthApi.Controllers.AuthController.Authenticate (AngularAuthApi)'
2023-02-24 14:05:14.028 +01:00  INF  Request finished HTTP/2 POST https://localhost:7063/api/user/Authenticate application/json 54 - 200 - application/json;+charset=utf-8 1077.1072ms
